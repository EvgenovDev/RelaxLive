(()=>{"use strict";const e=({classPopup:e,otherItemsClass:t,activeClass:o,closeClass:c,modalClass:s})=>{const a=document.querySelector(`.${e}`),l=document.querySelectorAll(`.${t}`);try{if(!a||!l.length)throw Error("Классы переданы неверно,либо не существуют");l.forEach((e=>{e.addEventListener("click",(e=>{a.classList.add(o)}))})),a.addEventListener("click",(e=>{!e.target.classList.contains(c)&&e.target.closest(`.${s}`)||a.classList.remove(o)}))}catch(e){console.log(e.message)}};((e,t)=>{const o=document.querySelectorAll(".header-contacts__phone-number"),c=document.querySelector(".header-contacts__arrow");try{if(!o.length||!c)throw Error("Классы телефона или стрелки переданы не верно");c.addEventListener("click",(e=>{o[1].classList.toggle("header-contacts__phone-number-accord--active"),c.classList.toggle("header-accord-arrow-active")}))}catch(e){console.log(e.message)}})(),(e=>{const t=document.querySelector(`.${e}`),o=document.querySelector(".popup-dialog-menu"),c=document.querySelector(".menu__icon"),s=(e,t)=>{let o=t(e);document.getElementById(o).scrollIntoView({behavior:"smooth"})},a=e=>{let t=e.getAttribute("href");return t.slice(1,t.length)};document.addEventListener("click",(e=>{var t;e.target.closest(".button-footer")&&(e.preventDefault(),s(e.target,a),o.classList.contains("popup-menu-dialog--active--big")&&o.classList.remove("popup-menu-dialog--active--big")),t=e,document.documentElement.clientWidth>576&&t.target===c?o.classList.add("popup-menu-dialog--active--big"):document.documentElement.clientWidth<576&&t.target===c&&o.classList.add("popup-menu-dialog--active--small")})),t.addEventListener("click",(e=>{(e.target.classList.contains("close-menu")||!e.target.closest(".popup-menu-main")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth>576?(o.classList.remove("popup-menu-dialog--active--big"),e.target.classList.contains("menu-link")&&!e.target.classList.contains("no-overflow")&&(e.preventDefault(),s(e.target,a))):(e.target.classList.contains("close-menu")||!e.target.closest(".popup-menu-main")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth<576&&(o.classList.remove("popup-menu-dialog--active--small"),e.target.classList.contains("menu-link")&&!e.target.classList.contains("no-overflow")&&(e.preventDefault(),s(e.target,a)))}))})("popup-menu"),(e=>{const t=document.querySelectorAll(`.${e}>input`),o=document.querySelectorAll("form>label>.feedback-block__form-input_phone");function c(e){let t="+7 (___) ___-__-__",o=0,c=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");c.length>=s.length&&(s=c),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<s.length?s.charAt(o++):o>=s.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let o=t.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}}(this.value.length,this)}try{if(!t.length||!o.length)throw Error("Блоков с телефонами не существует");t.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",c,!1),e.addEventListener("focus",c,!1),e.addEventListener("blur",c,!1)})),o.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",c,!1),e.addEventListener("focus",c,!1),e.addEventListener("blur",c,!1)}))}catch(e){console.log(e.message)}})("feedback__input"),(e=>{const t=document.querySelectorAll("form");try{if(!t)throw Error("Ни одной формы не существует");t.forEach((o=>{let c=o.querySelector(".checkbox__input");o.querySelector("button").addEventListener("click",(s=>{var a;s.preventDefault(),c.checked?(({data:o,url:c,method:s,header:a})=>{fetch(c,{method:s,headers:a,body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{console.log(e)})).then((()=>{(e=>{const t=document.querySelector(`.${e}`);try{if(!t)throw Error("Неправильный класс модалки спасибо");t.classList.add("popup-thank--active")}catch(e){console.log(e.message)}})(e)})).then((()=>{setTimeout((()=>{document.querySelector(`.${e}`).classList.remove("popup-thank--active")}),3e3)})).then((()=>{t.forEach((e=>{e.querySelectorAll(".input").forEach((e=>{e.value=""}))})),document.querySelectorAll(".checkbox__label").forEach((e=>{e.querySelector("")}))})).catch((e=>{console.log(e.message)}))})({data:(a=o).classList.contains("feedback__form")?{tel:a.querySelector("input").value}:a.classList.contains("feedback-block__form")?{name:a.querySelectorAll("input")[0].value,tel:a.querySelectorAll("input")[1].value}:void 0,method:"POST",header:{"Content-Type":"application/json;charset=utf-8"},url:"https://jsonplaceholder.typicode.com/posts"}):document.querySelectorAll(".checkbox__label").forEach((e=>{e.classList.add("fail__checkbox")}))}))}))}catch(e){console.log(e.message)}})("popup-thank"),e({classPopup:"popup-consultation",otherItemsClass:"button_wide",activeClass:"popup-consultation--active",closeClass:"close-consultation",modalClass:"feedback-wrap"}),e({classPopup:"popup-privacy",otherItemsClass:"link-privacy",activeClass:"popup-privacy--active",closeClass:"close-privacy",modalClass:"popup-dialog-privacy"}),e({classPopup:"popup-repair-types",otherItemsClass:"no-overflow",activeClass:"popup-repair-types--active",closeClass:"close",modalClass:"popup-dialog-repair-types"}),e({classPopup:"popup-repair-types",otherItemsClass:"link-list-repair",activeClass:"popup-repair-types--active",closeClass:"close",modalClass:"popup-dialog-repair-types"}),document.querySelectorAll(".popup-repair-types-nav__item")[1].cloneNode(!0),document.querySelector(".no-overflow").addEventListener("click",(()=>{document.querySelector(".popup-repair-types--active")&&(document.querySelector(".nav-list-popup-repair").innerHTML="",fetch("http://localhost:3000/api/items").then((e=>e.json())).then((e=>{})))}))})();