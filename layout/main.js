(()=>{"use strict";const e=({classPopup:e,otherItemsClass:t,activeClass:o,closeClass:l,modalClass:s})=>{const r=document.querySelector(`.${e}`),a=document.querySelectorAll(`.${t}`);try{if(!r||!a.length)throw Error("Классы переданы неверно,либо не существуют");a.forEach((e=>{e.addEventListener("click",(e=>{r.classList.add(o)}))})),r.addEventListener("click",(e=>{!e.target.classList.contains(l)&&e.target.closest(`.${s}`)||r.classList.remove(o)}))}catch(e){console.log(e.message)}};function t(e,t){let o=!1;return function(){o||(e.apply(this,arguments),o=!0,setTimeout((()=>{o=!1}),t))}}const o=({sliderClass:e,slideClass:t,arrowLeftClass:o,arrowRightClass:l,slideActiveClass:s,tooltipClass:r,tooltipActiveClass:a,tabsClass:i,allSlidesTabClass:c,activeTabClass:n,activeSliderClass:p,paginationCurrentClass:d,paginationTotalClass:u})=>{const m=document.querySelector(`.${e}`),f=m.querySelectorAll(`.${t}`),h=m.querySelector(`.${o}`),_=m.querySelector(`.${l}`),g=document.querySelectorAll(`.${i}`),y=document.querySelectorAll(`.${c}`),v=m.querySelector(`.${d}`),L=m.querySelector(`.${u}`);let C=0;function E(){if(p){const e=m.querySelector(`.${p}`).querySelectorAll(`.${t}`);L.textContent=e.length,v.textContent=C+1}else{const e=m.querySelectorAll(`.${t}`);L.textContent=e.length,v.textContent=C+1}}function S(e){if(e){let o=e.querySelectorAll(`.${t}`);o.forEach((e=>{e.classList.remove(s)})),C++,C<o.length||(C=0),o[C].classList.add(s)}else f.forEach((e=>{e.classList.remove(s)})),C++,C<f.length||(C=0),f[C].classList.add(s)}function w(e){if(e){let o=e.querySelectorAll(`.${t}`);o.forEach((e=>{e.classList.remove(s)})),C--,C>=0||(C=o.length-1),o[C].classList.add(s)}else f.forEach((e=>{e.classList.remove(s)})),C--,C>=0||(C=f.length-1),f[C].classList.add(s)}try{f&&h&&_&&!i&&(v&&L&&E(),m.addEventListener("click",(e=>{e.target.closest(`.${l}`)?(S(),v&&L&&E()):e.target.closest(`.${o}`)&&(w(),v&&L&&E()),r&&a&&(e.target.closest(`.${s}`)?e.target.querySelector(`.${r}`).classList.add(a):e.target.closest(`.${s}`)||m.querySelector(`.${a}`)&&m.querySelector(`.${a}`).classList.remove(a))}))),f&&h&&_&&g&&y&&(v&&L&&E(),g.forEach((e=>{e.addEventListener("click",(e=>{var o,l;g.forEach((e=>{e.classList.remove(n)})),e.target.classList.add(n),o=e.target.getAttribute("data-tab-name"),(l=y).forEach((e=>{e.getAttribute("data-tab-name")==o&&(l.forEach((e=>{e.classList.remove(p)})),e.classList.add(p),e.querySelector(`.${t}`).classList.add(s))})),C=0,v&&L&&E()}))})),m.addEventListener("click",(e=>{e.target.closest(`.${l}`)?y.forEach((e=>{e.classList.contains(p)&&(S(e),v&&L&&E())})):e.target.closest(`.${o}`)&&y.forEach((e=>{e.classList.contains(p)&&(w(e),v&&L&&E())}))})))}catch(e){console.log(e.message)}};((e,t)=>{const o=document.querySelectorAll(".header-contacts__phone-number"),l=document.querySelector(".header-contacts__arrow");try{if(!o.length||!l)throw Error("Классы телефона или стрелки переданы не верно");l.addEventListener("click",(e=>{o[1].classList.toggle("header-contacts__phone-number-accord--active"),l.classList.toggle("header-accord-arrow-active")}))}catch(e){console.log(e.message)}})(),(e=>{const t=document.querySelector(`.${e}`),o=document.querySelector(".popup-dialog-menu"),l=document.querySelector(".menu__icon"),s=(e,t)=>{let o=t(e);document.getElementById(o).scrollIntoView({behavior:"smooth"})},r=e=>{let t=e.getAttribute("href");return t.slice(1,t.length)};document.addEventListener("click",(e=>{var t;e.target.closest(".button-footer")&&(e.preventDefault(),s(e.target,r),o.classList.contains("popup-menu-dialog--active--big")&&o.classList.remove("popup-menu-dialog--active--big")),t=e,document.documentElement.clientWidth>576&&t.target===l?o.classList.add("popup-menu-dialog--active--big"):document.documentElement.clientWidth<576&&t.target===l&&o.classList.add("popup-menu-dialog--active--small")})),t.addEventListener("click",(e=>{(e.target.classList.contains("close-menu")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth>576?(o.classList.remove("popup-menu-dialog--active--big"),e.target.classList.contains("menu-link")&&!e.target.classList.contains("no-overflow")&&(e.preventDefault(),s(e.target,r))):(e.target.classList.contains("close-menu")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth<576&&(o.classList.remove("popup-menu-dialog--active--small"),e.target.classList.contains("menu-link")&&!e.target.classList.contains("no-overflow")&&(e.preventDefault(),s(e.target,r)))}))})("popup-menu"),(e=>{const t=document.querySelectorAll(`.${e}>input`),o=document.querySelectorAll("form>label>.feedback-block__form-input_phone");function l(e){let t="+7 (___) ___-__-__",o=0,l=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");l.length>=s.length&&(s=l),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<s.length?s.charAt(o++):o>=s.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let o=t.createTextRange();o.collapse(!0),o.moveEnd("character",e),o.moveStart("character",e),o.select()}}(this.value.length,this)}try{if(!t.length||!o.length)throw Error("Блоков с телефонами не существует");t.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",l,!1),e.addEventListener("focus",l,!1),e.addEventListener("blur",l,!1)})),o.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",l,!1),e.addEventListener("focus",l,!1),e.addEventListener("blur",l,!1)}))}catch(e){console.log(e.message)}})("feedback__input"),(e=>{const t=document.querySelectorAll("form");try{if(!t)throw Error("Ни одной формы не существует");t.forEach((o=>{let l=o.querySelector(".checkbox__input");const s=o.querySelector(".checkbox__label");o.addEventListener("click",(r=>{if(r.target==s)s.classList.contains("fail__checkbox")&&s.classList.remove("fail__checkbox");else if(r.target==o.querySelectorAll("input")[0])o.querySelectorAll("input")[0].classList.remove("fail__input");else if(r.target==o.querySelectorAll("input")[1])o.querySelectorAll("input")[1].classList.remove("fail__input");else if(r.target==o.querySelector("button")){r.preventDefault();let s=(e=>{let t=!1;if(e.classList.contains("feedback__form"))return!(""==e.querySelector("input").value&&e.querySelector("input").value.length<18)&&{tel:e.querySelector("input").value};if(e.classList.contains("feedback-block__form")){for(let o=0;o<e.querySelectorAll("input").length;o++)""==e.querySelectorAll("input")[o]&&(e.querySelectorAll("input")[o].classList.add("fail__input"),t=!0),e.querySelectorAll("input")[1].value.length<18&&(e.querySelectorAll("input")[1].classList.add("fail__input"),t=!0),e.querySelectorAll("input")[0].value.length<2&&(e.querySelectorAll("input")[0].classList.add("fail__input"),t=!0);return!t&&{name:e.querySelectorAll("input")[0].value,tel:e.querySelectorAll("input")[1].value}}})(o);l.checked&&s?(({data:o,url:l,method:s,header:r})=>{fetch(l,{method:s,headers:r,body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{console.log(e)})).then((()=>{(e=>{const t=document.querySelector(`.${e}`);try{if(!t)throw Error("Неправильный класс модалки спасибо");t.classList.add("popup-thank--active")}catch(e){console.log(e.message)}})(e)})).then((()=>{setTimeout((()=>{document.querySelector(`.${e}`).classList.remove("popup-thank--active")}),3e3)})).then((()=>{t.forEach((e=>{e.querySelectorAll("input").forEach((e=>{e.value=""}))})),document.querySelectorAll(".checkbox>input").forEach((e=>{e.checked=!1}))})).catch((e=>{console.log(e.message)}))})({data:s,method:"POST",header:{"Content-Type":"application/json;charset=utf-8"},url:"https://jsonplaceholder.typicode.com/posts"}):o.querySelectorAll(".checkbox__label").forEach((e=>{e.classList.add("fail__checkbox")}))}}))}))}catch(e){console.log(e.message)}})("popup-thank"),e({classPopup:"popup-consultation",otherItemsClass:"button_wide",activeClass:"popup-consultation--active",closeClass:"close-consultation",modalClass:"feedback-wrap"}),e({classPopup:"popup-privacy",otherItemsClass:"link-privacy",activeClass:"popup-privacy--active",closeClass:"close-privacy",modalClass:"popup-dialog-privacy"}),e({classPopup:"popup-repair-types",otherItemsClass:"no-overflow",activeClass:"popup-repair-types--active",closeClass:"close",modalClass:"popup-dialog-repair-types"}),e({classPopup:"popup-repair-types",otherItemsClass:"link-list-repair",activeClass:"popup-repair-types--active",closeClass:"close",modalClass:"popup-dialog-repair-types"}),(()=>{const e=document.querySelector(".popup-portfolio"),t=document.querySelectorAll(".portfolio-slider__slide-frame"),o=e.querySelectorAll(".popup-portfolio-slider__slide"),l=e.querySelectorAll(".popup-portfolio-text");let s;function r(){e.querySelector(".slider-counter-content__total").textContent=o.length,e.querySelectorAll(".popup-portfolio-slider__slide").forEach(((t,o)=>{t.classList.contains("popup-portfolio-slider__slide--active")&&(e.querySelector(".slider-counter-content__current").textContent=o+1,s=o)}))}try{if(!e||!t.length)throw Error("Классы переданы неверно,либо не существуют");t.forEach((t=>{t.addEventListener("click",(o=>{var l;e.classList.add("popup-portfolio--active"),l=t.getAttribute("data-img-name"),e.querySelectorAll(".popup-portfolio-slider__slide").forEach((e=>{e.classList.remove("popup-portfolio-slider__slide--active")})),e.querySelectorAll(".popup-portfolio-slider__slide").forEach((e=>{e.getAttribute("data-img-name")==l&&e.classList.add("popup-portfolio-slider__slide--active")})),e.querySelectorAll(".popup-portfolio-text").forEach((e=>{e.classList.remove("popup-portfolio-text--active")})),e.querySelectorAll(".popup-portfolio-text").forEach((e=>{e.getAttribute("data-img-name")==l&&e.classList.add("popup-portfolio-text--active")})),r()}))})),e.addEventListener("click",(t=>{t.target.classList.contains("close")||!t.target.closest(".popup-dialog-portfolio")?e.classList.remove("popup-portfolio--active"):t.target.closest(".popup-arrow_right")?(o.forEach((e=>{e.classList.remove("popup-portfolio-slider__slide--active")})),l.forEach((e=>{e.classList.remove("popup-portfolio-text--active")})),s++,s<o.length?(o[s].classList.add("popup-portfolio-slider__slide--active"),l[s].classList.add("popup-portfolio-text--active")):(s=0,o[s].classList.add("popup-portfolio-slider__slide--active"),l[s].classList.add("popup-portfolio-text--active")),r()):t.target.closest(".popup-arrow_left")&&(o.forEach((e=>{e.classList.remove("popup-portfolio-slider__slide--active")})),l.forEach((e=>{e.classList.remove("popup-portfolio-text--active")})),s--,s>=0?(o[s].classList.add("popup-portfolio-slider__slide--active"),l[s].classList.add("popup-portfolio-text--active")):(s=o.length-1,o[s].classList.add("popup-portfolio-slider__slide--active"),l[s].classList.add("popup-portfolio-text--active")),r())}))}catch(e){console.log(e.message)}})(),e({activeClass:"transparency--active",classPopup:"popup-transparency",otherItemsClass:"transparency-item__img",closeclass:"close",modalClass:"popup-dialog-transparency"}),(()=>{const e=e=>{document.querySelector(e).innerHTML=""};(()=>{const t=document.querySelector(".popup-repair-types-content-table"),o=t.querySelector(".popup-repair-types-content-table__list"),l=document.querySelectorAll(".popup-repair-types-nav__item")[1],s=t.querySelectorAll("tbody>.mobile-row")[1];document.addEventListener("click",(r=>{(r.target.classList.contains("no-overflow")||r.target==document.querySelectorAll(".link-list-repair>a")[1])&&document.querySelector(".popup-repair-types--active")&&(e(".nav-list-popup-repair"),("http://localhost:3000/api/items",fetch("http://localhost:3000/api/items")).then((e=>e.json())).then((r=>{let a=[];if(r[0]){let e=r[0].name;a=r.filter((t=>{if(t.type!=e)return e=t.type,t.type}))}(({array:e,button:t,parentClass:o})=>{let l=document.querySelector(o);try{if(!e.length)throw Error("Данные с сервера получены не верно, либо данных нет");for(let o=0;o<e.length;o++){const s=t.cloneNode(!0);s.textContent=e[o].type,l.append(s)}}catch(e){console.log(e.message)}})({array:a,button:l,parentClass:".nav-list-popup-repair"}),(({data:t,parentTable:o,table:l,tr:s})=>{try{t.forEach((e=>{if("Потолок: Демонтажные работы"==t.type){let t=s.cloneNode(!0),o=l.cloneNode();t.querySelector(".repair-types-name").textContent=e.name,t.querySelectorAll(".repair-types-value")[0].textContent=e.units,t.querySelectorAll(".repair-types-value")[1].textContent=`${e.cost}руб.`,o.append(t)}})),document.querySelectorAll(".popup-repair-types-nav__item").forEach((r=>{r.addEventListener("click",(a=>{document.getElementById("switch-inner").textContent=r.textContent,e(".popup-repair-types-content-table");let i=l.cloneNode();o.append(i),t.forEach((e=>{if(r.textContent==e.type){let t=s.cloneNode(!0);t.querySelector(".repair-types-name").textContent=e.name,t.querySelectorAll(".repair-types-value")[0].textContent=e.units,t.querySelectorAll(".repair-types-value")[1].textContent=`${e.cost}руб.`,i.append(t)}}))}))}))}catch(e){console.log(e.message)}})({data:r,table:o,tr:s,parentTable:t})})).catch((e=>console.log(e.message))))}))})()})(),(e=>{const o=document.querySelector(`.${e}`),l=o.querySelectorAll(".slider-arrow"),s=o.querySelectorAll(".portfolio-slider__slide");let r=o.querySelector(".portfolio-slider"),a=0;try{function e(){o.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.contains("portfolio-slide--active")&&e.classList.remove("portfolio-slide--active")})),a++,document.documentElement.clientWidth>1024?(0!=a&&2!=a&&(document.getElementById("portfolio-arrow_right").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_right").classList.remove("arrow-hidden"),document.getElementById("portfolio-arrow_left").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_left").classList.remove("arrow-hidden")),2===a&&document.getElementById("portfolio-arrow_right").classList.add("arrow-hidden"),setTimeout((()=>{r.innerHTML="",r.append(s[a]),r.append(s[a+1]),r.append(s[a+2]),r.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.add("portfolio-slide--active")}))}),1e3)):document.documentElement.clientWidth>575&&document.documentElement.clientWidth<=1024&&(0!=a&&3!=a&&(document.getElementById("portfolio-arrow_right").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_right").classList.remove("arrow-hidden"),document.getElementById("portfolio-arrow_left").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_left").classList.remove("arrow-hidden")),3===a&&document.getElementById("portfolio-arrow_right").classList.add("arrow-hidden"),setTimeout((()=>{r.innerHTML="",r.append(s[a]),r.append(s[a+1]),r.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.add("portfolio-slide--active")}))}),1e3))}function i(){o.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.contains("portfolio-slide--active")&&e.classList.remove("portfolio-slide--active")})),a--,document.documentElement.clientWidth>1024?(0!=a&&2!=a&&(document.getElementById("portfolio-arrow_right").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_right").classList.remove("arrow-hidden"),document.getElementById("portfolio-arrow_left").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_left").classList.remove("arrow-hidden")),0===a&&document.getElementById("portfolio-arrow_left").classList.add("arrow-hidden"),setTimeout((()=>{r.innerHTML="",r.append(s[a]),r.append(s[a+1]),r.append(s[a+2]),r.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.add("portfolio-slide--active")}))}),1e3)):document.documentElement.clientWidth>575&&document.documentElement.clientWidth<=1024&&(0!=a&&3!=a&&(document.getElementById("portfolio-arrow_right").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_right").classList.remove("arrow-hidden"),document.getElementById("portfolio-arrow_left").classList.contains("arrow-hidden")&&document.getElementById("portfolio-arrow_left").classList.remove("arrow-hidden")),0===a&&document.getElementById("portfolio-arrow_left").classList.add("arrow-hidden"),setTimeout((()=>{r.innerHTML="",r.append(s[a]),r.append(s[a+1]),r.querySelectorAll(".portfolio-slider__slide").forEach((e=>{e.classList.add("portfolio-slide--active")}))}),1e3))}if(!o)throw Error("Класс слайдера передан не верно");e=t(e,2e3),i=t(i,2e3),l.forEach((t=>{t.addEventListener("click",(t=>{t.target.closest(".slider-arrow_right-portfolio")?e():t.target.closest(".slider-arrow_left-portfolio")&&i()}))}))}catch(e){console.log(e.message)}})("portfolio-slider-wrap"),(({elemsClass:e,activeClass:t})=>{document.querySelectorAll(`.${e}`).forEach((o=>{o.addEventListener("click",(o=>{o.target.closest(`.${e}`)&&!o.target.classList.contains(t)?o.target.classList.add(t):o.target.classList.remove(t)}))}))})({elemsClass:"accordion>ul>li",activeClass:"msg-active"}),(({sectionClass:e,elementsClass:t,tooltipClass:o,tooltipActiveClass:l,tooltipClassBottom:s})=>{const r=document.querySelector(`.${e}`).querySelectorAll(`.${t}`);try{if(!r)throw Error("Класс элементов передан не верно");r.forEach((e=>{e.addEventListener("mouseenter",(e=>{const t=e.target.querySelector(`.${o}`);t.classList.add(l),t.getBoundingClientRect().top<0&&(t.style.bottom=`-${window.getComputedStyle(t).minHeight}`,t.classList.add(s))})),e.addEventListener("mouseleave",(e=>{e.target.querySelector(`.${o}`).classList.remove(l)}))}))}catch(e){console.log(e.message)}})({sectionClass:"formula>.mobile-hide",elementsClass:"formula-item__icon",tooltipActiveClass:"tooltip--active",tooltipClass:"formula-item-popup",tooltipClassBottom:"tooltip_bottom"}),o({tooltipClass:"formula-item-popup",tooltipActiveClass:"tooltip--active",slideActiveClass:"formula-item--active",sliderClass:"formula",slideClass:"formula-slider__slide",arrowLeftClass:"slider-arrow_left-formula",arrowRightClass:"slider-arrow_right-formula"}),o({slideActiveClass:"reviews-slider__slide--active",sliderClass:"reviews",slideClass:"reviews-slider__slide",arrowLeftClass:"slider-arrow_left",arrowRightClass:"slider-arrow_right"}),document.documentElement.clientWidth<=1090&&(o({sliderClass:"transparency",slideClass:"transparency-item",arrowLeftClass:"slider-arrow_left",arrowRightClass:"slider-arrow_right",slideActiveClass:"transparency-item--active"}),o({arrowLeftClass:"nav-arrow_left",arrowRightClass:"nav-arrow_right",sliderClass:"repair-types",slideActiveClass:"repair-types-nav__item--active",slideClass:"repair-types-nav__item"}),document.querySelector(".repair-types-nav__item").classList.remove("active")),o({sliderClass:"popup-transparency",slideClass:"popup-transparency-slider__slide",arrowLeftClass:"popup-arrow_transparency_left",arrowRightClass:"popup-arrow_transparency_right",slideActiveClass:"popup-transparency-slider__slide--active",paginationCurrentClass:"slider-counter-content__current",paginationTotalClass:"slider-counter-content__total"}),o({sliderClass:"repair-types",arrowLeftClass:"slider-arrow_left",arrowRightClass:"slider-arrow_right",allSlidesTabClass:"type-slide",tabsClass:"repair-types-nav__item",slideClass:"repair-types-slider__slide",activeTabClass:"active",activeSliderClass:"type-slide--active",slideActiveClass:"repair-types-slider__slide--active",paginationCurrentClass:"slider-counter-content__current",paginationTotalClass:"slider-counter-content__total"})})();