(()=>{"use strict";((e,t)=>{const c=document.querySelectorAll(".header-contacts__phone-number"),o=document.querySelector(".header-contacts__arrow");try{if(!c.length||!o)throw Error("Классы телефона или стрелки переданы не верно");o.addEventListener("click",(e=>{c[1].classList.toggle("header-contacts__phone-number-accord--active"),o.classList.toggle("header-accord-arrow-active")}))}catch(e){console.log(e.message)}})(),(e=>{const t=document.querySelector(`.${e}`),c=document.querySelector(".popup-dialog-menu"),o=document.querySelector(".menu__icon"),n=(e,t)=>{let c=t(e);document.getElementById(c).scrollIntoView({behavior:"smooth"})},a=e=>{let t=e.getAttribute("href");return t.slice(1,t.length)};document.addEventListener("click",(e=>{var t;e.target.closest(".button-footer")&&(e.preventDefault(),n(e.target,a),c.classList.contains("popup-menu-dialog--active--big")&&c.classList.remove("popup-menu-dialog--active--big")),t=e,document.documentElement.clientWidth>576&&t.target===o?c.classList.add("popup-menu-dialog--active--big"):document.documentElement.clientWidth<576&&t.target===o&&c.classList.add("popup-menu-dialog--active--small")})),t.addEventListener("click",(e=>{(e.target.classList.contains("close-menu")||!e.target.closest(".popup-menu-main")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth>576?(c.classList.remove("popup-menu-dialog--active--big"),e.target.classList.contains("menu-link")&&(e.preventDefault(),n(e.target,a))):(e.target.classList.contains("close-menu")||!e.target.closest(".popup-menu-main")||e.target.classList.contains("menu-link"))&&document.documentElement.clientWidth<576&&(c.classList.remove("popup-menu-dialog--active--small"),e.target.classList.contains("menu-link")&&(e.preventDefault(),n(e.target,a)))}))})("popup-menu"),(e=>{const t=document.querySelectorAll(`.${e}>input`),c=document.querySelectorAll("form>label>.feedback-block__form-input_phone");function o(e){let t="+7 (___) ___-__-__",c=0,o=t.replace(/\D/g,""),n=this.value.replace(/\D/g,"");o.length>=n.length&&(n=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&c<n.length?n.charAt(c++):c>=n.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let c=t.createTextRange();c.collapse(!0),c.moveEnd("character",e),c.moveStart("character",e),c.select()}}(this.value.length,this)}try{if(!t.length||!c.length)throw Error("Блоков с телефонами не существует");t.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1)})),c.forEach((e=>{e.setAttribute("placeholder","+7 (___) ___-__-__"),e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1)}))}catch(e){console.log(e.message)}})("feedback__input"),(e=>{const t=document.querySelector(`.${e}`);try{if(!t)throw Error("Класс модального окна консультации передан не верно");document.querySelectorAll(".button_wide").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),t.classList.add("popup-consultation--active")}))})),t.addEventListener("click",(e=>{!e.target.classList.contains("close-consultation")&&e.target.closest(".feedback-wrap")||t.classList.remove("popup-consultation--active")}))}catch(e){console.log(e.message)}})("popup-consultation"),((e,t)=>{const c=document.querySelector(`.${e}`),o=document.querySelectorAll(`.${t}`);try{if(!c||!o)throw Error("Класс модального окна приватности передан не верно");o.forEach((e=>{e.addEventListener("click",(e=>{c.classList.add("popup-privacy--active")}))})),c.addEventListener("click",(e=>{!e.target.classList.contains("close-privacy")&&e.target.closest(".popup-dialog-privacy")||c.classList.remove("popup-privacy--active")}))}catch(e){console.log(e.message)}})("popup-privacy","link-privacy"),(e=>{const t=document.querySelectorAll("form");try{if(!t)throw Error("Ни одной формы не существует");t.forEach((t=>{let c=t.querySelector(".checkbox__input");t.querySelector("button").addEventListener("click",(o=>{var n;o.preventDefault(),c.checked&&(({data:t,url:c,method:o,header:n})=>{fetch(c,{method:o,headers:n,body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{console.log(e)})).then((()=>{(e=>{const t=document.querySelector(`.${e}`);try{if(!t)throw Error("Неправильный класс модалки спасибо");t.classList.add("popup-thank--active")}catch(e){console.log(e.message)}})(e)})).then((()=>{setTimeout((()=>{document.querySelector(`.${e}`).classList.remove("popup-thank--active")}),3e3)})).catch((e=>{console.log(e.message)}))})({data:(n=t).classList.contains("feedback__form")?{tel:n.querySelector("input").value}:n.classList.contains("feedback-block__form")?{name:n.querySelectorAll("input")[0].value,tel:n.querySelectorAll("input")[1].value}:void 0,method:"POST",header:{"Content-Type":"application/json;charset=utf-8"},url:"https://jsonplaceholder.typicode.com/posts"})}))}))}catch(e){console.log(e.message)}})("popup-thank")})();